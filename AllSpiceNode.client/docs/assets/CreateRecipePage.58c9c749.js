import{_ as C,r as y,f as v,A as i,P as _,c as l,g as h,h as b,T as x,u as I,o as d,a as e,w as p,v as u,i as m,F as f,j as S,t as g,p as T,e as w}from"./index.ea272c6c.js";import{s as R,i as k}from"./StepsService.b2726409.js";import{r as D}from"./RecipesService.36eb44c0.js";const A={setup(){let c=y({}),t=y({}),r=y({}),s=I();return{creationStep:v(()=>i.creationStep),recipeData:c,step:t,ingredient:r,stepsToCreate:v(()=>i.stepsToCreate),ingredientsToCreate:v(()=>i.ingredientsToCreate),async submitStepOne(){try{console.log("creating"),await D.createRecipe(c.value),i.creationStep=2}catch(a){_.toast(a.message)}},async addStep(){if(t.value.body){t.value.position=i.nextStepPosition,t.value.recipeId=i.createdRecipe.id;let a={body:t.value.body,position:t.value.position,recipeId:t.value.recipeId};i.stepsToCreate.push(a),i.nextStepPosition++,t.value={},await R.createStep(a)}else _.toast("You must add a body to the step","error")},async addIngredient(){if(r.value.name&&r.value.quantity){console.log(r.value);let a={name:r.value.name,quantity:r.value.quantity,recipeId:i.createdRecipe.id};i.ingredientsToCreate.push(a),r.value={},await k.createIngredient(a)}else _.toast("Fill out all form input fields","error")},async submitAll(){try{setTimeout(function(){s.push({name:"Recipe",params:{id:i.createdRecipe.id}}),i.createdRecipe={},i.ingredientsToCreate=[],i.stepsToCreate=[],i.creationStep=1,i.nextStepPosition=1},1e3)}catch(a){_.toast(a.message)}}}}},n=c=>(T("data-v-7e12c16a"),c=c(),w(),c),V={class:"container"},U=n(()=>e("div",{class:"row"},[e("div",{class:"col-12 mt-2 text-md-start text-center"},[e("h3",{class:"text-primary"},"Upload a Recipe With AllSpice")])],-1)),P={key:0,class:"row"},q={class:"col-12"},B={class:"bg-light rounded p-2 d-flex flex-column"},N=n(()=>e("h5",{class:"font-weight-bold text-primary"},"Step 1",-1)),F=n(()=>e("p",null,"Tell us about your recipe...",-1)),j={class:"row"},O={class:"col-md-6 p-2"},Q=n(()=>e("label",{for:"",class:"text-dark"},"Recipe Title",-1)),E={class:"col-md-6 p-2"},L=n(()=>e("label",{for:"",class:"text-dark"},"Recipe Sub-title",-1)),M={class:"col-md-6 p-2"},W=n(()=>e("label",{for:"",class:"text-dark"},"Recipe Img Url",-1)),Y={class:"col-md-6 p-2"},z=n(()=>e("label",{for:"",class:"text-dark"},"Recipe Category",-1)),G=n(()=>e("i",{class:"mdi mdi-send"},null,-1)),H=[G],J={key:0,class:"row"},K={class:"col-12"},X={class:"bg-light p-2 rounded"},Z=n(()=>e("h5",{class:"text-primary"},"Step 2",-1)),$=n(()=>e("p",null,"Add Steps and Ingredients...",-1)),ee={class:"row mt-5"},te={class:"col-md-6"},se=n(()=>e("p",{class:"text-primary text-center"},[e("u",null,"Create Steps")],-1)),oe={class:"bg-white rounded my-4 p-2"},ie={key:0,class:"text-muted text-center"},ne={class:""},ae={class:"input-group mb-3"},le={class:"input-group-append"},de=n(()=>e("i",{class:"mdi mdi-plus"},null,-1)),re=[de],ce={class:"col-md-6"},pe=n(()=>e("p",{class:"text-primary text-center"},[e("u",null,"Create Ingredients")],-1)),ue={class:"bg-white rounded my-4 p-2"},_e={key:0,class:"text-muted text-center"},me={class:""},ge={class:"input-group"},ye={class:"input-group-append"},ve=n(()=>e("i",{class:"mdi mdi-plus"},null,-1)),he=[ve],be={class:"col-12 d-flex justify-content-end"};function xe(c,t,r,s,a,fe){return d(),l("div",V,[U,h(x,null,{default:b(()=>[s.creationStep===1?(d(),l("div",P,[e("div",q,[e("div",B,[N,F,e("div",j,[e("div",O,[Q,p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>s.recipeData.title=o)},null,512),[[u,s.recipeData.title]])]),e("div",E,[L,p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>s.recipeData.subtitle=o)},null,512),[[u,s.recipeData.subtitle]])]),e("div",M,[W,p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>s.recipeData.picture=o)},null,512),[[u,s.recipeData.picture]])]),e("div",Y,[z,p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=o=>s.recipeData.category=o)},null,512),[[u,s.recipeData.category]])])]),e("button",{class:"btn btn-outline-primary mt-2 align-self-end",onClick:t[4]||(t[4]=o=>s.submitStepOne())},H)])])])):m("",!0)]),_:1}),h(x,null,{default:b(()=>[s.creationStep===2?(d(),l("div",J,[e("div",K,[e("div",X,[Z,$,e("div",ee,[e("div",te,[se,e("div",oe,[s.stepsToCreate.length==0?(d(),l("p",ie,"Add A Step To Begin... ")):m("",!0),(d(!0),l(f,null,S(s.stepsToCreate,o=>(d(),l("p",ne,g(o.position)+") "+g(o.body),1))),256))]),e("div",ae,[p(e("input",{type:"text",class:"form-control",placeholder:"Step Description","aria-label":"Step Description","aria-describedby":"basic-addon2","onUpdate:modelValue":t[5]||(t[5]=o=>s.step.body=o)},null,512),[[u,s.step.body]]),e("div",le,[e("button",{class:"btn btn-outline-primary",type:"button",onClick:t[6]||(t[6]=o=>s.addStep())},re)])])]),e("div",ce,[pe,e("div",ue,[s.ingredientsToCreate.length==0?(d(),l("p",_e,"Add An Ingredient To Begin... ")):m("",!0),(d(!0),l(f,null,S(s.ingredientsToCreate,o=>(d(),l("p",me,g(o.name)+", "+g(o.quantity),1))),256))]),e("div",ge,[p(e("input",{type:"text","aria-label":"Ingredient Name",placeholder:"Ingredient Name",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=o=>s.ingredient.name=o)},null,512),[[u,s.ingredient.name]]),p(e("input",{type:"text","aria-label":"Ingredient Quantity",placeholder:"Ingredient Quantity",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=o=>s.ingredient.quantity=o)},null,512),[[u,s.ingredient.quantity]]),e("div",ye,[e("button",{class:"btn btn-outline-primary",type:"button",onClick:t[9]||(t[9]=o=>s.addIngredient())},he)])])]),e("div",be,[e("button",{class:"btn btn-outline-primary",onClick:t[10]||(t[10]=o=>s.submitAll())},"Add Steps and Ingredients to Recipe")])])])])])):m("",!0)]),_:1})])}const Te=C(A,[["render",xe],["__scopeId","data-v-7e12c16a"]]);export{Te as default};
